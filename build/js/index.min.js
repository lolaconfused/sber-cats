import{api}from"./api.js";import{Card}from"./card.js";import{cats}from"./cats.js";import{PopupWithImage}from"./popup-image.js";import{Popup}from"./popup.js";import"./utils.js";const cardsContainer=document.querySelector(".cards"),btnOpenPopup=document.querySelector(".btn"),formCatAdd=document.querySelector("#popup-form-add"),popupAdd=new Popup("popup-add"),popupImage=new PopupWithImage("popup-cat-image");function serializeForm(e){const t={};return e.forEach((e=>{"submit"!==e.type&&"button"!==e.type&&("checkbox"===e.type&&(t[e.name]=e.checked),"checkbox"!==e.type&&(t[e.name]=e.value))})),t}function handleFormAddCat(e){e.preventDefault();const t=serializeForm([...formCatAdd.elements]);console.log(t);const p=new Card(t,"#card-template",handleClickCatImage);cardsContainer.prepend(p.getElement()),popupAdd.close()}function handleClickCatImage(e){popupImage.open(e)}formCatAdd.addEventListener("submit",handleFormAddCat),btnOpenPopup.addEventListener("click",(e=>{e.preventDefault(),popupAdd.open()})),cats.forEach((e=>{const t=new Card(e,"#card-template",handleClickCatImage);cardsContainer.append(t.getElement())})),popupAdd.setEventListener(),popupImage.setEventListener();